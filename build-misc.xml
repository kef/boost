<?xml version="1.0" encoding="UTF-8"?>
<project name="boost" default="ignore" basedir=".">
    <import file="build-init.xml"/>

    <!-- FIX SC600 Tidy this file up.  Rename as build-artifacts.  Move jar stuff to build-package. -->
    <!-- FIX SC518 Are these really miscellaneous or is this just a smell. -->
    <target name="clean">
        <delete dir="${build.dir}"/>
    </target>

    <fileset id="artifacts" dir="${artifacts.template.dir}">
        <include name="index.html"/>
        <include name="show.html"/>
        <include name="*.css"/>
    </fileset>

    <target name="artifacts">
        <copy todir="${artifacts.dir}">
            <fileset refid="artifacts"/>
        </copy>
        <copy file="${artifacts.template.dir}/artifacts.html" todir="${artifacts.dir}">
            <filterset>
                <filter token="BUILD_DATE" value="${build.date}"/>
                <filter token="BUILD_LABEL" value="${label}"/>
            </filterset>
        </copy>
    </target>

    <!-- FIX SC502 API jar which contains just Primordial? -->
    <target name="build_jar">
        <!-- FIX SC502 boost-run.jar which contains ONLY edge/core. -->
        <mkdir dir="${jars.dir}"/>
        <jar jarfile="${jars.dir}/boost.jar">
            <fileset dir="${core.class.dir}" includes="**"/>
            <fileset dir="${edge.class.dir}" includes="**"/>
            <fileset dir="${test.class.dir}" includes="**"/>
            <fileset dir="${core.src.dir}" includes="**"/>
            <fileset dir="${edge.src.dir}" includes="**"/>
            <fileset dir="${test.src.dir}" includes="**"/>
        </jar>
    </target>

</project>