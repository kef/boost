<?xml version="1.0" encoding="UTF-8"?>
<project name="boost" default="ignore" basedir=".">
    <!-- FIX SC518 Split into more files? -->
    <!-- FIX SC518 Convert all targets to fit in with prefix/naming convention. -->
    <!-- FIX SC518 Go through the SC512 dudes and see which are relevant to SC518. -->
    <!-- FIX SC518 Move checkstyle cache into checkstyle sub area under target. -->
    <property name="label" value="build-dev"/>

    <property name="build.dir" location="build"/>
    <property name="config.dir" location="config"/>
    <property name="lib.dir" location="lib"/>
    <property name="src.dir" location="src"/>
    <property name="classes.dir" location="${build.dir}/classes"/>
    <property name="coverage.dir" location="${build.dir}/coverage"/>
    <property name="instrumented.dir" location="${coverage.dir}/instrumented"/>
    <property name="artifacts.dir" location="${build.dir}/artifacts"/>
    <property name="reports.dir" location="${artifacts.dir}/reports"/>
    <property name="coverage.reports.dir" location="${reports.dir}/coverage"/>
    <property name="jars.dir" location="${artifacts.dir}/jars"/>
    <property name="test.report.dir" location="${reports.dir}/test"/>
    <property name="test.xml.report.dir" location="${test.report.dir}/xml"/>
    <property name="checkstyle.config.dir" location="${config.dir}/checkstyle"/>
    <property name="checkstyle.report.dir" location="${reports.dir}/checkstyle"/>
    <property name="checkstyle.cache.dir" location="${build.dir}/checkstyle-cache"/>
    <property name="simian.config.dir" location="${config.dir}/simian"/>
    <property name="artifacts.template.dir" location="${config.dir}/artifacts"/>

    <property name="simian.report.dir" location="${reports.dir}/simian"/>
    <property name="build.config.dir" location="${config.dir}/build"/>
    <!-- FIX SC600 Remove the superfluous java indirection -->
    <property name="edge.src.dir" location="${src.dir}/edge/java"/>
    <property name="core.src.dir" location="${src.dir}/core/java"/>
    <property name="test.src.dir" location="${src.dir}/test/java"/>
    <property name="demo.src.dir" location="${src.dir}/demo/java"/>
    <property name="edge.class.dir" location="${classes.dir}/edge"/>
    <property name="core.class.dir" location="${classes.dir}/core"/>
    <property name="test.class.dir" location="${classes.dir}/test"/>
    <property name="demo.class.dir" location="${classes.dir}/demo"/>
    <property name="core.instrumented.dir" location="${instrumented.dir}/core"/>

    <tstamp>
        <format property="build.date" pattern="yyyyMMdd HH:mm:ss"/>
    </tstamp>

    <fileset id="atomic.tests" dir="${test.src.dir}" includes="**/*AtomicTest.java"/>
    <fileset id="demo.tests" dir="${demo.src.dir}" includes="**/*DemoTest.java"/>


    <patternset id="code.pattern">
        <include name="**/*.java"/>
    </patternset>

    <fileset id="checkstyle.core.code" dir="${core.src.dir}">
        <patternset refid="code.pattern"/>
    </fileset>

    <fileset id="checkstyle.edge.code" dir="${edge.src.dir}">
        <patternset refid="code.pattern"/>
    </fileset>

    <fileset id="checkstyle.test.code" dir="${test.src.dir}">
        <patternset refid="code.pattern"/>
    </fileset>

    <!-- FIX SC600 Tidy this up. -->
    <fileset id="simian.boost.code" dir="${src.dir}">
        <patternset refid="code.pattern"/>
        <exclude name="**/au/net/netstorm/boost/edge/**"/>
        <exclude name="**/pair/*.java"/>
        <!-- FIX SC502 Remove duplication and then remove these exclusions. -->
        <!-- NO MORE WAIVERS/EXCLUSIONS HERE.  FIX FIRST!!!!  EVEN THOUGH SOME ARE SIMIAN FALSE POSITIVES -->
        <exclude name="**/StartTime.java"/>
        <exclude name="**/EndTime.java"/>
        <exclude name="**/MockListener.java"/>
        <!-- FIX SC502 This was put in here due to duplication detected between test code and production code ... which is allowed? -->
    </fileset>

    <fileset id="simian.boo.code" dir="${src.dir}" includes="**/pair/boo/**/*.java"/>
    <fileset id="simian.monster.code" dir="${src.dir}" includes="**/pair/monster/**/*.java"/>
    <fileset id="simian.rah.code" dir="${src.dir}" includes="**/pair/rah/**/*.java"/>
    <fileset id="simian.scream.code" dir="${src.dir}" includes="**/pair/scream/**/*.java"/>

    <!-- FIX SC600 Can we move this into build-cobertura.xml -->
    <path id="cobertura.classpath">
        <fileset dir="${lib.dir}/cobertura">
            <include name="**/*.jar"/>
        </fileset>
    </path>

    <path id="edge.compile.classpath"/>

    <path id="core.compile.classpath">
        <path location="${edge.class.dir}"/>
    </path>

    <path id="test.compile.classpath">
        <path refid="core.compile.classpath"/>
        <path location="${core.class.dir}"/>
        <path refid="junit.classpath"/>
        <path refid="jmock.classpath"/>
    </path>

    <path id="demo.compile.classpath">
        <path refid="test.compile.classpath"/>
        <path location="${test.class.dir}"/>
    </path>

    <path id="atomic.test.classpath">
        <path location="${edge.class.dir}"/>
        <!-- FIX SC600 Does it make sense to have the atomic on the end? -->
        <path location="${core.instrumented.dir}/atomic"/>
        <path location="${core.class.dir}"/>
        <path location="${test.class.dir}"/>
        <path refid="cobertura.classpath"/>
        <path refid="jmock.classpath"/>
    </path>

    <path id="demo.test.classpath">
        <path refid="demo.compile.classpath"/>
        <path location="${demo.class.dir}"/>
    </path>

    <!-- FIX SC600 Must have a demo.test.classpath -->

    <path id="checkstyle.class.path">
        <fileset dir="${lib.dir}/checkstyle">
            <include name="**/*.jar"/>
        </fileset>
    </path>

    <path id="junit.classpath">
        <fileset dir="${lib.dir}/junit">
            <include name="**/*.jar"/>
        </fileset>
    </path>

    <path id="jmock.classpath">
        <fileset dir="${lib.dir}/jmock">
            <include name="**/*.jar"/>
        </fileset>
    </path>

    <path id="simian.class.path">
        <fileset dir="${lib.dir}/simian">
            <include name="**/*.jar"/>
        </fileset>
    </path>
    <target name="ignore"/>
</project>